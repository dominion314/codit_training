---
iamPolicyMembers:
  type: 'dict'
  required: false
  schema:
    usersByEmail:
      required: false
      keysrules:
        type: 'string'
        #TODO: better tune
        regex: '.*@commonmerit\.com|.*@qa\.commonmerit\.com|.*@dev\.commonmerit\.com'
      valuesrules:
        type: 'dict'
        schema:
          roles:
            required: true
            type: 'list'
    groupsByEmail:
      required: false
      keysrules:
        type: 'string'
        #TODO: better tune
        regex: '.*@commonmerit\.com|.*@qa\.commonmerit\.com|.*@dev\.commonmerit\.com'
      valuesrules:
        type: 'dict'
        schema:
          roles:
            required: true
            type: 'list'
    serviceAccountsByEmail:
      required: false
      keysrules:
        type: 'string'
        #TODO: better tune
        regex: '.*@.*\.gserviceaccount\.com'
      valuesrules:
        type: 'dict'
        schema:
          roles:
            required: true
            type: 'list'
