---
vpcs:
  cx-nx-lle:
    firewallRules:
      tonomi-lle-ingress-loyalty-retailsrv:
        description: SNOW-16569
        direction: INGRESS
        disabled: false
        logging: false
        priority: 900
        rule:
          allow:
          - protocol: "tcp"
            ports:
            - "22"
          sourceRanges:
          - "10.186.213.0/24"
          - "10.190.126.0/24"
          - "10.186.212.0/24"
          - "10.190.125.0/24"
          - "10.186.114.0/23"
          - "10.186.122.0/23"
          - "10.186.116.0/23"
          - "10.190.48.0/23"
          - "10.190.52.0/23"
          - "10.190.50.0/23"
          - "172.26.0.0/15"
          targetTags:
          - fw-ssh
          - fw-ssh-hle
      kos-xpn-cicd-ingress-loyalty-retailsrv:
        description: SNOW-16569
        direction: INGRESS
        disabled: false
        logging: false
        priority: 900
        rule:
          allow:
          - protocol: "tcp"
            ports:
            - "80"
            - "443"
          sourceRanges:
          - "10.190.89.0/24"
          - "10.208.77.0/24"
          - "10.190.4.0/23"
          - "10.186.4.0/23"
          - "10.186.155.0/24"
          targetTags:
          - fw-http
          - fw-https
      inter-subnets-loyalty-retailsrv-and-shop:
        description: SNOW-16677
        direction: INGRESS
        disabled: false
        logging: false
        priority: 900
        rule:
          allow:
          - protocol: "tcp"
            ports:
            - "22"
          sourceRanges:
          - "10.187.36.0/23"
          targetTags:
          - fw-ssh
      intra-subnet-ingress-zookeeper:
        description: SNOW-16677
        direction: INGRESS
        disabled: false
        logging: false
        priority: 900
        rule:
          allow:
          - protocol: "tcp"
            ports:
            - "2181"
          sourceRanges:
          - "10.187.36.0/23"
          targetTags:
          - zookeeper
          - fw-zookeeper
      intra-subnet-ingress-kafka:
        description: SNOW-16677
        direction: INGRESS
        disabled: false
        logging: false
        priority: 900
        rule:
          allow:
          - protocol: "tcp"
            ports:
            - "9092-9093"
          sourceRanges:
          - "10.187.36.0/23"
          targetTags:
          - kafka
          - fw-kafka
          - fw-kafka-lle
      intra-subnet-shop-ingress-zookeeper:
        description: SNOW-16677
        direction: INGRESS
        disabled: false
        logging: false
        priority: 900
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "kos-zookeeper@doms-cx-shop-lle.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          sourceServiceAccounts:
          - external: "kos-zookeeper@doms-cx-shop-lle.iam.gserviceaccount.com"
          allow:
          - protocol: "tcp"
            ports:
            - "2181"
      intra-subnet-shop-ingress-consul:
        description: SNOW-16677
        direction: INGRESS
        disabled: false
        logging: false
        priority: 900
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "consul-paas@doms-cx-shop-lle.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          sourceServiceAccounts:
          - external: "consul-paas@doms-cx-shop-lle.iam.gserviceaccount.com"
          allow:
          - protocol: "tcp"
            ports:
            - "8501"
