---
vpcs:
  cpe-nx-prd:

    firewallRules:
      ghwebhooks-01:
        priority: 900
        direction: INGRESS
        description: SCTASK0991124
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          targetTags:
          sourceRanges:
          - "10.1.43.26"
          - "10.7.33.1"
          - "10.7.33.2"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "80"
            - "443"
            - "8443"
            - "8080"
      onprem-to-kohls-cpe-kcc-prd-01:
        priority: 900
        direction: INGRESS
        description: GKE-MONITORING XPAAS-9157
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          targetTags:
          sourceRanges:
          - "10.0.0.0/8"
          - "172.26.0.0/15"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "9090"
            - "9093"
            - "3000"
      onprem-to-kohls-cpe-nx-prd:
        priority: 900
        direction: INGRESS
        description: SNOW-16330
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "yum-repo@kohls-cpe-image-mgmt-prd.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          - "10.0.0.0/8"
          - "172.26.0.0/15"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "80"
            - "443"
            - "9100"
      gcp-to-kohls-cpe-nx-prd-ssh:
        priority: 900
        direction: INGRESS
        description: SNOW-16297
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "yum-repo@kohls-cpe-image-mgmt-prd.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          - "10.212.197.227/32"
          - "10.206.0.46/32"
          - "10.206.0.47/32"
          - "10.206.128.11/32"
          - "10.206.128.22/32"
          - "10.184.61.5/32"
          - "10.184.61.6/32"
          - "10.184.61.7/32"
          - "10.184.61.8/32"
          - "10.184.61.17/32"
          - "10.206.1.230/32"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "22"
      gcp-to-kohls-cpe-nx-prd-packer-job:
        priority: 900
        direction: INGRESS
        description: SNOW-16297
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "image-build@kohls-cpe-image-mgmt-prd.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          - "10.57.32.0/19"
          - "10.57.104.0/23"
          - "10.57.106.0/23"
          - "10.57.108.0/23"
          - "10.57.110.0/23"
          - "10.64.0.0/17"
          - "10.90.80.0/24"
          - "10.90.81.0/24"
          - "10.90.100.0/23"
          - "10.100.0.0/16"
          - "10.101.0.0/16"
          - "10.109.0.0/16"
          - "10.110.0.0/16"
          - "10.212.197.227/32"
          - "10.206.0.46/32"
          - "10.206.0.47/32"
          - "10.206.128.11/32"
          - "10.206.128.22/32"
          - "10.184.61.5/32"
          - "10.184.61.6/32"
          - "10.184.61.7/32"
          - "10.184.61.8/32"
          - "10.184.61.17/32"
          - "172.26.0.0/15"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "22"
            - "80"
            - "443"
            - "8080"
            - "5985"
      webhook-posts-for-eunomia:
        priority: 900
        direction: INGRESS
        description: RITM1004719
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          targetTags:
          sourceRanges:
          - "10.126.128.0/17"
          - "10.127.128.0/17"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "8080"
      ssh-access-devexp-tools-prd:
        priority: 900
        direction: INGRESS
        description: To mirror existing ssh capability
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          targetTags:
          - fw-allow-ssh
          sourceRanges:
          - "10.0.0.0/8"
          - "172.26.0.0/15"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "22"
      devexp-tools-for-sandbox:
        priority: 900
        direction: INGRESS
        description: Sandbox migration
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "gitlab-runner@kohls-devexp-tools-prd.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          - "10.0.0.0/8"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
          - protocol: "udp"
          - protocol: "icmp"
      kohls-public-ranges-for-sandbox:
        priority: 900
        direction: INGRESS
        description: Sandbox migration
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "gitlab-runner@kohls-devexp-tools-prd.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          - "66.232.224.0/20"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "80"
            - "443"
      eunomia-webhooks-cpe-nx-prd:
        priority: 900
        direction: INGRESS
        description: SNOW-16761
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "28161123457-compute@developer.gserviceaccount.com"
          targetTags:
          sourceRanges:
          - "10.185.13.0/24"
          - "10.189.8.0/24"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "80"
            - "443"
            - "8383"
            - "8080"
      jenkins-gitlabrunner-cpe-nx-prd:
        priority: 900
        direction: INGRESS
        description: SNOW-16956
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "jenkins@kohls-cpe-image-mgmt-prd.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          - "10.185.13.0/24"
          - "10.189.8.0/24"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "80"
            - "443"
            - "22"
            - "8443"
      onprem-usersegments-to-cpe-nx-prd:
        priority: 900
        direction: INGRESS
        description: SNOW-16893-1
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "jenkins@kohls-cpe-image-mgmt-prd.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          - "10.57.0.0/17"
          - "10.100.0.0/16"
          - "10.110.0.0/16"
          - "10.101.0.0/16"
          - "172.26.0.0/15"
          - "10.4.7.0/27"
          - "10.9.7.0/27"
          - "10.109.0.0/16"
          - "10.3.29.13/32"
          - "10.216.0.115/32"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "8443"
      iaas-jenkins-to-cpe-nx-prd:
        priority: 900
        direction: INGRESS
        description: SNOW-16893-2
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "jenkins@kohls-cpe-image-mgmt-prd.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          - "10.212.80.10/32"
          - "10.212.80.11/32"
          sourceServiceAccounts:
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "80"
            - "443"
            - "8080"
            - "22"
            - "50000"
            - "43765"
            - "135"
            - "139"
            - "445"
            - "49187"
      image-access-for-cpe-image-mgmt-prd:
        priority: 900
        direction: INGRESS
        description: SNOW-16893-3
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "image-build@kohls-cpe-image-mgmt-prd.iam.gserviceaccount.com"
          - external: "yum-repo@kohls-cpe-image-mgmt-prd.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          sourceServiceAccounts:
          - external: "jenkins@kohls-cpe-image-mgmt-prd.iam.gserviceaccount.com"
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "80"
            - "443"
            - "8080"
            - "22"
            - "5985"
      image-access-for-jenkins-cpe-image-mgmt-prd:
        priority: 900
        direction: INGRESS
        description: SNOW-16893-4
        disabled: false
        logging: false
        rule:
          destinationRanges:
          targetServiceAccounts:
          - external: "jenkins@kohls-cpe-image-mgmt-prd.iam.gserviceaccount.com"
          targetTags:
          sourceRanges:
          sourceServiceAccounts:
          - external: "jenkins@kohls-cpe-image-mgmt-prd.iam.gserviceaccount.com"
          sourceTags:
          allow:
          - protocol: "tcp"
            ports:
            - "22"
            - "80"
            - "443"
            - "8080"
            - "8443"
            - "50000"
